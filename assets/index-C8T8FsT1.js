import{r as a,j as n,C as u,u as f,a as p,c as m}from"./react-three-EL8taA2r.js";import{W as h,P as x,a0 as w}from"./three-BA7YbLHh.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}})();function g(){const c="/JS_ENGINE/",l=`${c.endsWith("/")?c.slice(0,-1):c}/project/assets/meshes/sm_sphere.glb`,{scene:s}=f(l),e=a.useRef(null),t=a.useMemo(()=>{if(!s)return null;const r=s.clone();return r.traverse(i=>{i.isMesh&&(i.material=new w({color:"#00ff00"}))}),r},[s]);return p((r,i)=>{e.current&&(e.current.rotation.y+=.5*i)}),t?n.jsx("primitive",{ref:e,object:t,position:[0,0,0]}):null}function v(){return n.jsx(n.Fragment,{children:n.jsx(g,{})})}function y(){const[c,d]=a.useState(0),[l,s]=a.useState("Loading..."),e=a.useRef(0),t=a.useRef(Date.now());return a.useEffect(()=>{const r=()=>{e.current++;const o=Date.now();o-t.current>=1e3&&(d(e.current),e.current=0,t.current=o),requestAnimationFrame(r)},i=requestAnimationFrame(r);return()=>{cancelAnimationFrame(i)}},[]),n.jsxs("div",{style:{width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",position:"relative"},children:[n.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",color:"white",fontFamily:"monospace",fontSize:"14px",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"10px",borderRadius:"5px",zIndex:1e3,minWidth:"200px"},children:[n.jsxs("div",{children:["FPS: ",c]}),n.jsx("div",{children:"JS Game Engine v1.0.0"}),n.jsx("div",{style:{fontSize:"12px",color:"#0f0",marginTop:"5px"},children:"Using: sm_sphere.glb"}),n.jsxs("div",{style:{fontSize:"12px",color:"#aaa",marginTop:"5px"},children:["Renderer: ",l]})]}),n.jsx(u,{gl:r=>{const i="gpu"in navigator,o=new h({canvas:r,antialias:!0,alpha:!1,powerPreference:"high-performance"});return o.setSize(window.innerWidth,window.innerHeight),o.setPixelRatio(Math.min(window.devicePixelRatio,2)),o.setClearColor(0,1),s(i?"WebGL (WebGPU available, experimental)":"WebGL"),o},camera:{position:[0,0,5],fov:75,near:.1,far:1e3},onCreated:({gl:r,camera:i})=>{i.lookAt(0,0,0);const o=()=>{r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),i instanceof x&&(i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix())};return window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},children:n.jsx(v,{})})]})}m(document.getElementById("root")).render(n.jsx(a.StrictMode,{children:n.jsx(y,{})}));
