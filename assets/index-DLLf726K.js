import{r as c,j as t,C as u,u as f,a as p,c as m}from"./react-three-EL8taA2r.js";import{W as h,P as x,a0 as w}from"./three-BA7YbLHh.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}})();function g(){const{scene:d}=f("/project/assets/meshes/sm_sphere.glb"),o=c.useRef(null),l=c.useMemo(()=>{if(!d)return null;const s=d.clone();return s.traverse(e=>{e.isMesh&&(e.material=new w({color:"#00ff00"}))}),s},[d]);return p((s,e)=>{o.current&&(o.current.rotation.y+=.5*e)}),l?t.jsx("primitive",{ref:o,object:l,position:[0,0,0]}):null}function v(){return t.jsx(t.Fragment,{children:t.jsx(g,{})})}function y(){const[d,o]=c.useState(0),[l,s]=c.useState("Loading..."),e=c.useRef(0),r=c.useRef(Date.now());return c.useEffect(()=>{const n=()=>{e.current++;const i=Date.now();i-r.current>=1e3&&(o(e.current),e.current=0,r.current=i),requestAnimationFrame(n)},a=requestAnimationFrame(n);return()=>{cancelAnimationFrame(a)}},[]),t.jsxs("div",{style:{width:"100vw",height:"100vh",margin:0,padding:0,overflow:"hidden",position:"relative"},children:[t.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",color:"white",fontFamily:"monospace",fontSize:"14px",backgroundColor:"rgba(0, 0, 0, 0.7)",padding:"10px",borderRadius:"5px",zIndex:1e3,minWidth:"200px"},children:[t.jsxs("div",{children:["FPS: ",d]}),t.jsx("div",{children:"JS Game Engine v1.0.0"}),t.jsx("div",{style:{fontSize:"12px",color:"#0f0",marginTop:"5px"},children:"Using: sm_sphere.glb"}),t.jsxs("div",{style:{fontSize:"12px",color:"#aaa",marginTop:"5px"},children:["Renderer: ",l]})]}),t.jsx(u,{gl:n=>{const a="gpu"in navigator,i=new h({canvas:n,antialias:!0,alpha:!1,powerPreference:"high-performance"});return i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),i.setClearColor(0,1),s(a?"WebGL (WebGPU available, experimental)":"WebGL"),i},camera:{position:[0,0,5],fov:75,near:.1,far:1e3},onCreated:({gl:n,camera:a})=>{a.lookAt(0,0,0);const i=()=>{n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),a instanceof x&&(a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix())};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},children:t.jsx(v,{})})]})}m(document.getElementById("root")).render(t.jsx(c.StrictMode,{children:t.jsx(y,{})}));
